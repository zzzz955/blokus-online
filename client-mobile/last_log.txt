=== Blokus Deep Link Configuration ===

URL Scheme: blokus

OIDC Callback: blokus://auth/callback

==========================================

SceneFlowController initialized with DontDestroyOnLoad

InputLocker initialized with DontDestroyOnLoad

[HttpApiClient] 현재 환경: 에디터

[HttpApiClient] 사용할 API URL: http://localhost:8080/api

HttpApiClient 초기화 완료 - DontDestroyOnLoad 적용됨

LoadingOverlay components auto-created

LoadingOverlay initialized with DontDestroyOnLoad

SessionManager initialized with DontDestroyOnLoad

[SceneFlowController] Starting from AppPersistent - auto-booting to MainScene

[SceneFlowController] Boot sequence started - waiting for systems

HTTP API 인증 토큰 클리어됨

[SessionManager] Memory session cleared (SecureStorage 보존)

LoadingOverlay shown: 게임 초기화 중...

InputLocker: EventSystem disabled

InputLocker: Disabled 2 GraphicRaycasters

[SceneFlowController] Systems ready, continuing boot sequence

[SceneFlowController] 자동 로그인 체크 시작

[HttpApiClient] SecureStorage에서 refresh token 자동 로그인 시도

[SecureStorage] [EDITOR] Retrieved key: blokus_refresh_token

[HttpApiClient] 저장된 refresh token으로 자동 로그인 시도

인증 토큰이 없음 - Authorization 헤더 없이 요청

HTTP POST: http://localhost:8080/api/auth/refresh, 데이터: {"refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1LCJ1c2VybmFtZSI6Inp6enp6OTU1IiwidHlwZSI6InJlZnJlc2giLCJpc3MiOiJibG9rdXMtc2luZ2xlLWFwaSIsImF1ZCI6InVuaXR5LW1vYmlsZS1jbGllbnQiLCJpYXQiOjE3NTYwNjA2NTksImV4cCI6MTc1ODY1MjY1OX0.nwKpzAB97r8-phcCgteaHu7DV4LhJbsTftf4T55zM-Q"}

HTTP 응답: {"success":true,"message":"Token refreshed successfully","data":{"access_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1LCJ1c2VybmFtZSI6Inp6enp6OTU1IiwiZW1haWwiOiJqampqOTU1MUBnbWFpbC5jb20iLCJpc3MiOiJibG9rdXMtc2luZ2xlLWFwaSIsImF1ZCI6InVuaXR5LW1vYmlsZS1jbGllbnQiLCJpYXQiOjE3NTYwNjEzODksImV4cCI6MTc1NjE0Nzc4OX0.du0Ros3Cb4oirPVS7sZThibSNzaWyRJP3wSjtBwi-KU","refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1LCJ1c2VybmFtZSI6Inp6enp6OTU1IiwidHlwZSI6InJlZnJlc2giLCJpc3MiOiJibG9rdXMtc2luZ2xlLWFwaSIsImF1ZCI6InVuaXR5LW1vYmlsZS1jbGllbnQiLCJpYXQiOjE3NTYwNjEzODksImV4cCI6MTc1ODY1MzM4OX0.Mo_GQ-hZBaigyWl5TOo0ASRILmByiARN-wAiyb9_0lc","token_type":"Bearer","expires_in":86400,"user":{"user_id":5,"username":"zzzzz955","email":"jjjj9551@gmail.com"}}}

[HttpApiClient] 자동 로그인 성공 - 새로운 토큰 받음

SetAuthToken Instance: 68584

HTTP API 인증 설정 완료: User 5

저장 후 authToken 상태: eyJhbGciOiJIUzI1NiIs...

[SecureStorage] [EDITOR] Stored key: blokus_refresh_token

[SecureStorage] [EDITOR] Stored key: blokus_user_id

[SecureStorage] [EDITOR] Stored key: blokus_username

[SessionManager] 토큰 설정 완료: User 5, Refresh Token: 없음

[SessionManager] UserDataCache 미초기화 상태 - 나중에 자동 동기화됨

[SceneFlowController] 자동 로그인 성공: 자동 로그인 성공

[SceneFlowController] Loading MainScene additively

[SceneFlowController] LoadAdditive: MainScene, setActive: True

LoginPanel 초기화

=== UIManager Awake 시작 ===

[UIManager] 스크립트 컴파일 상태 확인 - GetType(): App.UI.UIManager

[UIManager] Inspector 필드 상태:

  loginPanel SerializeField: True (값: LoginPanel (App.UI.LoginPanel))

  modeSelectionPanel SerializeField: True (값: ModeSelectionPanel (App.UI.ModeSelectionPanel))

  stageSelectPanel SerializeField: False (값: )

UIManager 싱글톤 설정 완료

UIManager MainScene에 유지됨 - 패널 참조 보존

=== InitializePanels 시작 ===

[UIManager] StageSelectPanel이 null, CandyCrushStageMapView 찾는 중...

Login Panel: True

Login Panel Name: LoginPanel

Login Panel Type: LoginPanel

Login Panel GameObject null?: False

ModeSelection Panel: True

ModeSelection Panel Name: ModeSelectionPanel

ModeSelection Panel GameObject null?: False

StageSelect Panel: False

InitializePanels 완료

LoginPanel은 startActive=true이므로 숨기지 않음

ModeSelection 패널 숨기기

=== InitializeSystemMessageManager 시작 ===

SystemMessageManager 이미 존재함

InitializeSystemMessageManager 완료

UIManager Awake 완료

로그인 버튼 연결 완료

회원가입 버튼 연결 완료

소셜 로그인 버튼 1개 연결 완료

HttpApiClient 이벤트 구독 완료

DontDestroyOnLoad only works for root GameObjects or components on root GameObjects.

[OidcAuth] OidcAuthenticator initialized

OIDC Authenticator 설정 완료

[Info] 로그인 정보를 입력하세요

=== UIManager Start 시작 ===

[UIManager] 자동 로그인 상태 확인 시작

[UIManager] SceneFlowController 자동 로그인 상태: Success

[UIManager] 자동 로그인 성공 - ModeSelection 패널 표시

=== ShowPanel 시작 ===

요청된 State: ModeSelection

현재 State: -1

panels 딕셔너리에서 ModeSelection 찾는 중...

패널 딕셔너리에서 찾음: True

패널 찾음: ModeSelectionPanel

패널 타입: ModeSelectionPanel

패널 Active: False

패널 Show() 호출 직전

패널 Show() 호출 완료

UI State Changed: ModeSelection

UIManager Start 완료

[OidcAuth] Loading OIDC discovery document from: http://localhost:9000/.well-known/openid-configuration

ModeSelectionPanel 초기화 완료

싱글플레이 버튼 이벤트 연결 완료

멀티플레이 버튼 이벤트 연결 완료, 비활성화(스텁)

로그아웃 버튼 이벤트 연결 완료

ModeSelectionPanel 버튼 설정 완료

[ModeSelectionPanel] 인사말 업데이트: 환영합니다!

[SceneFlowController] SetActive: MainScene is now active scene

[SceneFlowController] LoadAdditive completed: MainScene

[OidcAuth] OIDC discovery document loaded successfully

LoadingOverlay hidden

InputLocker: EventSystem re-enabled

InputLocker: Re-enabled 2 GraphicRaycasters

[SceneFlowController] Boot sequence completed

싱글플레이 버튼 클릭

[ModeSelectionPanel] UIManager로 싱글플레이 모드 선택

[UIManager] OnSingleModeSelected() 호출됨

[UIManager] SceneFlowController로 스테이지 선택 모드 진입

[UIManager] 스테이지 선택 화면 로드 시작

[SceneFlowController] GoSingle() started

LoadingOverlay shown: 싱글플레이 로딩 중...

InputLocker: EventSystem disabled

InputLocker: Disabled 3 GraphicRaycasters

[SceneFlowController] EnsureLoaded: Loading SingleCore

[SceneFlowController] LoadAdditive: SingleCore, setActive: False

[SingleCoreBootstrap] Awake - Initializing SingleCore

[StageDataManager] Awake - Ready for initialization

[StageProgressManager] Awake - Ready for initialization

[SingleCoreBootstrap] Start - Connecting dependencies

[SingleCoreBootstrap] 이전 사용자 데이터 완전 정리 시작

[UserDataCache] cachedMaxStageCompleted 초기화됨: 0

[UserDataCache] 동기화 상태 초기화됨

[SingleCoreBootstrap] UserDataCache.ClearCache() 완료

[StageDataManager] 캐시 데이터 정리 시작

[StageDataManager] 캐시 데이터 정리 완료

[SingleCoreBootstrap] StageDataManager.ClearCache() 완료

[StageProgressManager] 캐시 데이터 정리 시작

[StageProgressManager] 진행도 캐시 정리 완료

[StageProgressManager] 캐시 데이터 정리 완료

[SingleCoreBootstrap] StageProgressManager.ClearCache() 완료

[SingleCoreBootstrap] 이전 사용자 데이터 정리 완료

[SingleCoreBootstrap] Initializing managers...

[UserDataCache] 기존 로그인 상태 감지 - 사용자 정보 동기화 시작

[UserDataCache] SessionManager로부터 사용자 정보 동기화

[UserDataCache] SessionManager 동기화 완료 - User: 

[UserDataCache] Initialized for SingleCore

[SingleCoreBootstrap] UserDataCache initialized

API 기반 StageManager 초기화 완료

[StageDataManager] Initialized for SingleCore

[SingleCoreBootstrap] StageDataManager initialized

HTTP API 이벤트 구독 완료

[StageProgressManager] Initialized for SingleCore

[SingleCoreBootstrap] StageProgressManager initialized

[SingleCoreBootstrap] Connecting dependencies...

[StageDataManager] UserDataCache dependency set

[StageProgressManager] UserDataCache dependency set

[StageProgressManager] StageDataManager dependency set

[SingleCoreBootstrap] Dependencies connected successfully

[SingleCoreBootstrap] 데이터 로딩 시작...

[SingleCoreBootstrap] 매니저 초기화 완료. 서버 데이터 로딩 시작...

[SingleCoreBootstrap] SessionManager 로그인 감지 - 서버 데이터 로드 시작

[SingleCoreBootstrap] HttpApiClient 준비됨. 데이터 로드 요청...

[UserDataCache] 초기 서버 데이터 로드 시작

[HttpApiClient] 스테이지 메타데이터 요청 시작

GET요청 Instance: 68584

GET요청 authToken: EXISTS

Authorization 헤더 추가됨: Bearer eyJhbGciOiJIUzI1NiIs...

HTTP GET: http://localhost:8080/api/user/sync/metadata

[UserDataCache] 스테이지 메타데이터 요청 전송

GET요청 Instance: 68584

GET요청 authToken: EXISTS

Authorization 헤더 추가됨: Bearer eyJhbGciOiJIUzI1NiIs...

HTTP GET: http://localhost:8080/api/user/progress/batch

[UserDataCache] 일괄 진행도 요청 전송

[SingleCoreBootstrap] LoadInitialDataFromServer 호출 완료

[SceneFlowController] LoadAdditive completed: SingleCore

[SceneFlowController] SingleCore 데이터 로딩 대기 중...

[SceneFlowController] SingleCoreBootstrap 발견. 데이터 로딩 상태 확인 중...

HTTP 응답: {"success":true,"message":"Metadata sync completed successfully","data":{"metadata_version":"2025-08-19T19:14:57.290Z","stages":[{"stage_id":1,"stage_number":1,"difficulty":1,"optimal_score":6,"time_limit":null,"max_undo_count":3,"description":"첫번째 스테이지, 블로커스의 룰을 알아보세요","hints":"모서리에서 시작하여 블럭의 모서리가 인접하도록 블록을 이어 배치해보세요","available_blocks":[1,2,3],"is_featured":true,"thumbnail_url":"/stage-thumbnails/stage-1-1755512524514.png","initial_board_state":[1200,1201,1202,818,819,1220,2021,2022,2038,839,2058,859,1940,2341,1960,2361,1980,1981]},{"stage_id":2,"stage_number":2,"difficulty":1,"optimal_score":29,"time_limit":null,"max_undo_count":3,"description":"정해진 위치에서 정해진 블록으로 시작해 보세요","hints":"첫 블록은 1*1크기의 블록을 사용해야 합니다.","available_blocks":[1,2,3,4,5,6,7,8,9],"is_featured":true,"thumbnail_url":"/stage-thumbnails/stage-2-1755514705441.png","initial_board_state":[2000,2019,2379,2380,2398]},{"stage_id":3,"stage_number":3,"difficulty":1,"optimal_score":29,"time_limit":null,"max_undo_count":3,"description":"20개의 장애물이 배치된 보드에서 시작해 보세요","hints":"","available_blocks":[1,2,3,4,5,6,7,8,9],"is_featured":false,"thumbnail_url":"/stage-thumbnails/stage-3-1755523012328.png","initial_board_state":[2015,2019,2021,2032,2040,2082,2104,2128,2149,2207,2226,2239,2250,2252,2256,2278,2289,2340,2364,2393]},{"stage_id":4,"stage_number":4,"difficulty":1,"optimal_score":29,"time_limit":null,"max_undo_count":3,"description":"40개의 장애물이 배치된 보드에서 시작해 보세요","hints":"","available_blocks":[1,2,3,4,5,6,7,8,9],"is_featured":false,"thumbnail_url":"/stage-thumbnails/stage-4-1755624612389.png","initial_board_state":[2007,2027,2047,2055,2072,2079,2089,2092,2096,2100,2114,2115,2131,2141,2146,2148,2155,2156,2159,2162,2165,2185,2186,2191,2193,2195,2200,2210,2211,2252,2254,2262,2264,2268,2276,2288,2371,2379,2385,2390]},{"stage_id":5,"stage_number":5,"difficulty":1,"optimal_score":29,"time_limit":null,"max_undo_count":3,"description":"60개의 장애물이 배치된 보드에서 시작해 보세요","hints":"","available_blocks":[1,2,3,4,5,6,7,8,9],"is_featured":false,"thumbnail_url":"/stage-thumbnails/stage-5-1755624634062.png","initial_board_state":[2000,2001,2015,2019,2022,2023,2027,2028,2037,2038,2045,2051,2054,2065,2068,2081,2084,2089,2092,2106,2107,2110,2114,2128,2138,2149,2161,2181,2195,2198,2200,2203,2205,2213,2220,2221,2227,2247,2249,2250,2260,2265,2274,2276,2281,2285,2287,2289,2292,2293,2295,2305,2336,2343,2353,2356,2357,2363,2369,2380]},{"stage_id":6,"stage_number":6,"difficulty":1,"optimal_score":29,"time_limit":null,"max_undo_count":3,"description":"80개의 장애물이 배치된 보드에서 시작해 보세요","hints":"","available_blocks":[1,2,3,4,5,6,7,8,9],"is_featured":false,"thumbnail_url":"/stage-thumbnails/stage-6-1755624663049.png","initial_board_state":[2001,2002,2003,2005,2007,2008,2015,2016,2017,2019,2020,2023,2027,2032,2034,2038,2041,2046,2048,2050,2069,2084,2085,2092,2097,2100,2129,2162,2167,2174,2176,2179,2191,2193,2200,2203,2205,2208,2213,2215,2224,2235,2236,2237,2239,2242,2245,2249,2252,2253,2258,2259,2262,2266,2268,2269,2270,2280,2287,2289,2295,2296,2298,2300,2301,2304,2311,2316,2321,2324,2330,2334,2343,2348,2349,2357,2358,2364,2374,2389]},{"stage_id":7,"stage_number":7,"difficulty":2,"optimal_score":29,"time_limit":null,"max_undo_count":3,"description":"100개의 장애물이 배치된 보드에서 시작해 보세요","hints":"","available_blocks":[1,2,3,4,5,6,7,8,9],"is_featured":false,"thumbnail_url":"/stage-thumbnails/stage-7-1755624693779.png","initial_board_state":[2000,2001,2002,2010,2013,2019,2022,2023,2028,2029,2034,2043,2049,2053,2058,2060,2064,2067,2074,2080,2095,2100,2101,2102,2103,2104,2105,2109,2111,2112,2115,2118,2119,2123,2125,2127,2133,2151,2153,2157,2162,2178,2187,2189,2194,2200,2202,2210,2211,2212,2213,2216,2218,2220,2223,2224,2227,2228,2230,2234,2238,2240,2242,2244,2250,2252,2260,2269,2271,2272,2273,2276,2281,2290,2297,2303,2307,2309,2311,2320,2321,2325,2326,2328,2330,2331,2332,2342,2345,2350,2352,2355,2356,2362,2371,2373,2381,2388,2395,2396]},{"stage_id":8,"stage_number":8,"difficulty":3,"optimal_score":80,"time_limit":null,"max_undo_count":3,"description":"100개의 장애물이 배치된 보드에서 특정 블럭만 갖고 시작해 보세요","hints":"","available_blocks":[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21],"is_featured":false,"thumbnail_url":"/stage-thumbnails/stage-8-1755164229263.svg","initial_board_state":[0,6,8,9,12,15,19,20,21,25,27,30,32,33,38,39,41,47,49,55,56,58,60,65,86,94,96,100,103,105,112,121,122,127,132,133,137,145,151,158,163,167,168,181,192,200,207,208,209,215,219,223,227,232,236,240,247,252,253,257,261,262,263,267,269,270,278,281,283,286,290,292,296,298,304,307,309,316,329,332,336,337,340,345,346,350,351,352,353,358,377,378,385,386,389,390,391,396,397,398]},{"stage_id":9,"stage_number":9,"difficulty":3,"optimal_score":89,"time_limit":null,"max_undo_count":0,"description":"되돌릴 수 없습니다. 신중하게 배치해 보세요","hints":"","available_blocks":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21],"is_featured":false,"thumbnail_url":"/stage-thumbnails/stage-9-1755164403398.svg","initial_board_state":[0,3,5,7,9,11,12,14,15,16,23,26,27,33,37,41,45,49,52,61,62,65,76,86,90,92,96,98,99,106,110,112,117,120,121,122,130,132,135,147,154,157,158,160,162,164,165,166,168,171,172,177,179,180,181,184,190,199,201,204,206,210,212,229,237,245,256,259,260,261,262,265,266,285,287,288,289,295,296,312,319,322,324,325,328,332,342,347,351,353,355,356,358,359,365,369,370,378,393,397]},{"stage_id":10,"stage_number":10,"difficulty":4,"optimal_score":89,"time_limit":null,"max_undo_count":1,"description":"150개의 장애물이 설치되었네요, 단 한번의 실수를 만회할 기회를 드립니다!","hints":"","available_blocks":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21],"is_featured":false,"thumbnail_url":"/stage-thumbnails/stage-10-1755164546904.svg","initial_board_state":[0,1,2,3,4,5,6,7,8,9,10,17,18,20,25,26,28,29,30,33,36,40,41,42,43,45,46,48,49,50,53,59,63,67,68,69,70,72,74,76,77,78,79,80,81,84,86,88,89,90,92,93,94,95,96,97,102,105,106,107,108,113,115,116,117,118,119,120,122,123,126,131,132,133,136,140,143,145,147,149,151,153,155,157,158,159,161,166,168,173,176,177,180,182,196,204,209,210,212,213,219,224,225,227,229,230,233,235,236,240,243,245,247,258,259,260,270,271,273,274,283,289,292,298,299,300,302,306,311,324,332,336,337,340,346,347,357,359,360,362,364,369,370,375,376,382,386,387,393,398]},{"stage_id":11,"stage_number":11,"difficulty":2,"optimal_score":80,"time_limit":null,"max_undo_count":3,"description":"맵을 절반만 사용해 보실래요?","hints":"","available_blocks":[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21],"is_featured":false,"thumbnail_url":"/stage-thumbnails/stage-11-1755164644030.svg","initial_board_state":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,120,121,122,123,124,125,126,127,128,129,130,131,132,133,140,141,142,143,144,145,146,147,148,149,150,151,152,160,161,162,163,164,165,166,167,168,169,170,171,180,181,182,183,184,185,186,187,188,189,190,200,201,202,203,204,205,206,207,208,209,220,221,222,223,224,225,226,227,228,240,241,242,243,244,245,246,247,260,261,262,263,264,265,266,280,281,282,283,284,285,300,301,302,303,304,320,321,322,323,340,341,342,360,361,380]},{"stage_id":12,"stage_number":12,"difficulty":1,"optimal_score":89,"time_limit":null,"max_undo_count":3,"description":"","hints":"","available_blocks":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21],"is_featured":false,"thumbnail_url":"/stage-thumbnails/stage-12-1755353981109.png","initial_board_state":[800,820,1940,1960,1980,801,1981,802,1218,1219,1239,1259,21,37,38,41,361,362]},{"stage_id":13,"stage_number":13,"difficulty":1,"optimal_score":89,"time_limit":null,"max_undo_count":3,"description":"","hints":"","available_blocks":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21],"is_featured":false,"thumbnail_url":"/stage-thumbnails/stage-13-1755356686870.png","initial_board_state":[0,401,802,1203,1604]},{"stage_id":14,"stage_number":14,"difficulty":2,"optimal_score":29,"time_limit":null,"max_undo_count":3,"description":"100개의 장애물이 배치된 보드에서 시작해 보세요","hints":"","available_blocks":[1,2,3,4,5,6,7,8,9],"is_featured":false,"thumbnail_url":"/stage-thumbnails/stage-14-1755630897254.png","initial_board_state":[2000,2001,2002,2010,2013,2019,2022,2023,2028,2029,2034,2043,2049,2053,2058,2060,2064,2067,2074,2080,2095,2100,2101,2102,2103,2104,2105,2109,2111,2112,2115,2118,2119,2123,2125,2127,2133,2151,2153,2157,2162,2178,2187,2189,2194,2200,2202,2210,2211,2212,2213,2216,2218,2220,2223,2224,2227,2228,2230,2234,2238,2240,2242,2244,2250,2252,2260,2269,2271,2272,2273,2276,2281,2290,2297,2303,2307,2309,2311,2320,2321,2325,2326,2328,2330,2331,2332,2342,2345,2350,2352,2355,2356,2362,2371,2373,2381,2388,2395,2396]}],"total_count":14,"sync_completed_at":"2025-08-24T18:49:51.185Z"}}

[HttpApiClient] 스테이지 메타데이터 수신: 14개

[HttpApiClient] 메타데이터 변환 완료: 14개

[UserDataCache] 🔥 스테이지 메타데이터 설정 완료: 14개 (타임아웃 방지)

[UserDataCache] 메타데이터 샘플: 스테이지 1, 난이도=1, 목표점수=6

[UserDataCache] 메타데이터 샘플: 스테이지 2, 난이도=1, 목표점수=29

[UserDataCache] 메타데이터 샘플: 스테이지 3, 난이도=1, 목표점수=29

[UserDataCache] 메타데이터 샘플: 스테이지 4, 난이도=1, 목표점수=29

[UserDataCache] 메타데이터 샘플: 스테이지 5, 난이도=1, 목표점수=29

[UserDataCache] ... 및 9개 더

[UserDataCache] 메타데이터 동기화 완료

[HttpApiClient] 메타데이터 캐시에 저장 완료: 14개

HTTP 응답: {"success":true,"message":"User progress batch retrieved successfully","data":{"progress":[{"n":1,"c":true,"s":3,"bs":6},{"n":2,"c":true,"s":3,"bs":29},{"n":3,"c":true,"s":3,"bs":29},{"n":4,"c":false,"s":0,"bs":0},{"n":5,"c":false,"s":0,"bs":0},{"n":6,"c":false,"s":0,"bs":0},{"n":7,"c":false,"s":0,"bs":0},{"n":8,"c":false,"s":0,"bs":0},{"n":9,"c":false,"s":0,"bs":0},{"n":10,"c":false,"s":0,"bs":0},{"n":11,"c":false,"s":0,"bs":0},{"n":12,"c":false,"s":0,"bs":0},{"n":13,"c":false,"s":0,"bs":0},{"n":14,"c":false,"s":0,"bs":0}],"current_status":{"max_stage_completed":3,"single_player_level":1,"total_stars":9,"completion_count":3},"total_count":14,"last_updated":"2025-08-24T18:49:51.391Z"}}

[UserDataCache] 📥 OnBatchProgressReceived 호출됨!

[UserDataCache] 일괄 진행도 수신: 14개 (중복 방지 플래그 초기화됨)

[UserDataCache] 처리 중: 스테이지 1 (완료=True, 별=3)

[UserDataCache] API 스테이지 진행도 업데이트: 1 (별: 3)

[UserDataCache] cachedMaxStageCompleted 갱신: 1

[UserDataCache] currentUser.maxStageCompleted 상향 반영: 1

API 스테이지 진행도 업데이트: 1 (별: 3)

[UserDataCache] 처리 중: 스테이지 2 (완료=True, 별=3)

[UserDataCache] API 스테이지 진행도 업데이트: 2 (별: 3)

[UserDataCache] cachedMaxStageCompleted 갱신: 2

[UserDataCache] currentUser.maxStageCompleted 상향 반영: 2

API 스테이지 진행도 업데이트: 2 (별: 3)

[UserDataCache] 처리 중: 스테이지 3 (완료=True, 별=3)

[UserDataCache] API 스테이지 진행도 업데이트: 3 (별: 3)

[UserDataCache] cachedMaxStageCompleted 갱신: 3

[UserDataCache] currentUser.maxStageCompleted 상향 반영: 3

API 스테이지 진행도 업데이트: 3 (별: 3)

[UserDataCache] 처리 중: 스테이지 4 (완료=False, 별=0)

[UserDataCache] API 스테이지 진행도 업데이트: 4 (별: 0)

API 스테이지 진행도 업데이트: 4 (별: 0)

[UserDataCache] 처리 중: 스테이지 5 (완료=False, 별=0)

[UserDataCache] API 스테이지 진행도 업데이트: 5 (별: 0)

API 스테이지 진행도 업데이트: 5 (별: 0)

[UserDataCache] 처리 중: 스테이지 6 (완료=False, 별=0)

[UserDataCache] API 스테이지 진행도 업데이트: 6 (별: 0)

API 스테이지 진행도 업데이트: 6 (별: 0)

[UserDataCache] 처리 중: 스테이지 7 (완료=False, 별=0)

[UserDataCache] API 스테이지 진행도 업데이트: 7 (별: 0)

API 스테이지 진행도 업데이트: 7 (별: 0)

[UserDataCache] 처리 중: 스테이지 8 (완료=False, 별=0)

[UserDataCache] API 스테이지 진행도 업데이트: 8 (별: 0)

API 스테이지 진행도 업데이트: 8 (별: 0)

[UserDataCache] 처리 중: 스테이지 9 (완료=False, 별=0)

[UserDataCache] API 스테이지 진행도 업데이트: 9 (별: 0)

API 스테이지 진행도 업데이트: 9 (별: 0)

[UserDataCache] 처리 중: 스테이지 10 (완료=False, 별=0)

[UserDataCache] API 스테이지 진행도 업데이트: 10 (별: 0)

API 스테이지 진행도 업데이트: 10 (별: 0)

[UserDataCache] 처리 중: 스테이지 11 (완료=False, 별=0)

[UserDataCache] API 스테이지 진행도 업데이트: 11 (별: 0)

API 스테이지 진행도 업데이트: 11 (별: 0)

[UserDataCache] 처리 중: 스테이지 12 (완료=False, 별=0)

[UserDataCache] API 스테이지 진행도 업데이트: 12 (별: 0)

API 스테이지 진행도 업데이트: 12 (별: 0)

[UserDataCache] 처리 중: 스테이지 13 (완료=False, 별=0)

[UserDataCache] API 스테이지 진행도 업데이트: 13 (별: 0)

API 스테이지 진행도 업데이트: 13 (별: 0)

[UserDataCache] 처리 중: 스테이지 14 (완료=False, 별=0)

[UserDataCache] API 스테이지 진행도 업데이트: 14 (별: 0)

API 스테이지 진행도 업데이트: 14 (별: 0)

[UserDataCache] 진행도 배치 동기화 완료

[UserDataCache] ✅ 일괄 진행도 캐시 완료 - 총 14개 처리됨

[HttpApiClient] 🔥 OnCurrentStatusReceived 이벤트 발생! max_stage_completed=3

[UserDataCache] 📥 OnCurrentStatusReceived 호출됨! max_stage_completed=3

최대 클리어 스테이지: 3

[UserDataCache] StageProgressManager에 서버 max_stage_completed=3 설정 완료

[UserDataCache] currentUser.maxStageCompleted을 3로 업데이트

[UserDataCache] 현재 상태 동기화 완료

[UserDataCache] 초기 동기화 완료 (elapsed=0.3s)

[SingleCoreBootstrap] 데이터 로딩 완료 - 사용자 ID 기록: 

[SingleCoreBootstrap] 🎉 데이터 로딩 완료!

[SceneFlowController] ✅ 완전한 동기화 완료!

[SceneFlowController] EnsureLoaded: Loading SingleGameplayScene

[SceneFlowController] LoadAdditive: SingleGameplayScene, setActive: False

[StageFeed] Awake - Unity Inspector totalStages: 300개 (데이터 로딩 대기 중)

[GamePanel] Interactable = False

[GamePanel] OnEnable done

=== [SingleGameManager] Awake() 시작 ===

[SingleGameManager] 기존 Instance: 

[SingleGameManager] 현재 GameObject: SingleGameManager

[SingleGameManager] 현재 Scene: SingleGameplayScene

[SingleGameManager] ✅ 첫 번째 싱글톤 인스턴스 설정 완료

[SingleGameManager] 컴포넌트 참조 확인:

  gameBoard: GameBoard (Features.Single.Gameplay.GameBoard)

  blockPalette: BlockPalette (Features.Single.Gameplay.BlockPalette)

  gameResultModal: GameResultModal (Features.Single.UI.InGame.GameResultModal)

  StageManager: StageDataManager (Features.Single.Core.StageDataManager)

=== [SingleGameManager] Awake() 완료 ===

[CandyCrushStageMapView] SingleCoreBootstrap 데이터 로딩 이벤트 핸들러 설정 완료

[CandyCrushStageMapView] 데이터 이미 로드됨 - 즉시 StageFeed 초기화

[CandyCrushStageMapView] 데이터 로딩 완료됨 - StageFeed 초기화 시작

[StageFeed] 데이터 기반 스테이지 수 설정: 300개(Inspector) → 14개(실제데이터)

[CandyCrushStageMapView] StageFeed 데이터 기반 초기화 완료

스테이지 맵 새로고침

[RefreshStageMap] 캐시된 데이터로 UI 업데이트 (서버 요청 생략)

[UpdateButtonsFromCache] 캐시된 데이터로 UI 업데이트 시작

[UpdateButtonsFromCache] ✅ 캐시된 데이터로 UI 업데이트 완료 - 0개 스테이지 데이터 적용됨

[CandyCrushStageMapView] UpdateUIInfo - progressManager가 null입니다

[CandyCrushStageMapView] Features.Single.Core.UserDataCache.Instance null 여부: False

[CandyCrushStageMapView] Features.Single.Core.UserDataCache 이벤트 핸들러 설정 완료

[CandyCrushStageMapView] 프로필 데이터 즉시 업데이트는 OnEnable에서 처리

[CandyCrushStageMapView] 진행도 변경 이벤트 핸들러 설정 완료

StageInfoModal 참조가 이미 있습니다.

[CandyCrushStageMapView] DelayedProfileUpdate 시작:  - 초기화 완료 대기 중...

StageButtonPool 초기화 완료: 20개 버튼 생성

[UIScreenController] 초기 상태: StageSelect=ON, GamePanel=OFF

=== [SingleGameManager] Start() 시작 ===

[SingleGameManager] IsInitialized: False

[SingleGameManager] StageManager: StageDataManager (Features.Single.Core.StageDataManager)

[SingleGameManager] CurrentStage: 0

[SingleGameManager] gameBoard: GameBoard (Features.Single.Gameplay.GameBoard)

[SingleGameManager] blockPalette: BlockPalette (Features.Single.Gameplay.BlockPalette)

[SingleGameManager] CurrentStage==0 - 스테이지 선택 대기

=== [SingleGameManager] Start() 완료 ===

[CandyCrushStageMapView] 데이터 로딩 상태 확인 중...

[CandyCrushStageMapView] 데이터 이미 로드 완료 - StageFeed 즉시 초기화

[StageFeed] 데이터 기반 스테이지 수 설정: 14개(Inspector) → 14개(실제데이터)

[CandyCrushStageMapView] StageFeed 데이터 기반 초기화 완료

[CandyCrushStageMapView] SetupScrollContent - safeTotalStages: 14개

[CandyCrushStageMapView] UpdateUIInfo 시작 - totalStages: 14

[CandyCrushStageMapView] 진행률 업데이트: 진행률: 21.4% (3/14)

[CandyCrushStageMapView] 별 개수 계산 시작 - 총 스테이지: 14

[CandyCrushStageMapView] 스테이지 1 - 별: 3개 (누적: 3)

[CandyCrushStageMapView] 스테이지 2 - 별: 3개 (누적: 6)

[CandyCrushStageMapView] 스테이지 3 - 별: 3개 (누적: 9)

[CandyCrushStageMapView] 별 정보 업데이트: 별: 9/42 ★

[SceneFlowController] LoadAdditive completed: SingleGameplayScene

[SceneFlowController] SetActive: SingleGameplayScene is now active scene

[SceneFlowController] 아직 선택된 스테이지 없음. StageSelectPanel 유지.

[SceneFlowController] GoSingle() completed successfully

LoadingOverlay hidden

InputLocker: EventSystem re-enabled

InputLocker: Re-enabled 3 GraphicRaycasters

[UIManager] 스테이지 선택 모드 - MainScene 패널들 유지

[UIManager] ✅ 스테이지 선택 화면 준비 완료 - IsInGameplayMode = false

[CandyCrushStageMapView] DelayedProfileUpdate 실행:  (대기시간=0.1s, 활성버튼=7개)

[CandyCrushStageMapView] 전체 새로고침 모드 - 기존 활성 버튼 수: 7

[CandyCrushStageMapView] 사용자 진행도: max_completed=3, 목표 언락 수=4

[CandyCrushStageMapView] 전체 새로고침 완료 - 최종 활성 버튼 수: 14

[CandyCrushStageMapView] UpdateUIInfo 시작 - totalStages: 14

[CandyCrushStageMapView] 진행률 업데이트: 진행률: 21.4% (3/14)

[CandyCrushStageMapView] 별 개수 계산 시작 - 총 스테이지: 14

[CandyCrushStageMapView] 스테이지 1 - 별: 3개 (누적: 3)

[CandyCrushStageMapView] 스테이지 2 - 별: 3개 (누적: 6)

[CandyCrushStageMapView] 스테이지 3 - 별: 3개 (누적: 9)

[CandyCrushStageMapView] 별 정보 업데이트: 별: 9/42 ★

[CandyCrushStageMapView] UpdateUIInfo 너무 빠른 호출 - 스킵 (마지막: 3.47s, 현재: 3.47s)

[CandyCrushStageMapView] 스테이지 1 데이터 요청

[CandyCrushStageMapView] Features.Single.Core.UserDataCache 확인 중...

[CandyCrushStageMapView] 전체 메타데이터 캐시: 14개

[UserDataCache] 스테이지 1 메타데이터 반환: INTEGER[] 형식, 18개 위치

[CandyCrushStageMapView] ✅ 캐싱된 메타데이터에서 스테이지 1 로드

[ApiDataConverter] 새로운 INTEGER[] 형식으로 초기 보드 상태 변환: 18개 위치

[DEBUG] ShowStageInfo 호출됨: stageData=1, userProgress=1

[DEBUG] currentStageNumber 설정됨: 1

StageInfoModal: 별점 업데이트 - 획득한 별: 3/3

이미지 URL : /stage-thumbnails/stage-1-1755512524514.png

스테이지 1: 썸네일 URL 로딩 시도 - http://localhost:3000/stage-thumbnails/stage-1-1755512524514.png

[StageInfoModal] UI 비활성 상태 → 썸네일 대기열 저장: http://localhost:3000/stage-thumbnails/stage-1-1755512524514.png

기존 블록 버튼 0개 제거 완료

새로운 블록 버튼 3개 생성 시작

[StageInfoModal] BlockButton(Single)에 CellSpriteProvider 설정 완료

[StageInfoModal] BlockButton(Domino)에 CellSpriteProvider 설정 완료

[StageInfoModal] BlockButton(TrioLine)에 CellSpriteProvider 설정 완료

블록 버튼 생성 완료 - 현재 자식 수: 3

스테이지 1 정보 모달 표시

스테이지 1 게임 시작!

[StageInfoModal] 스테이지 1 게임 시작 준비

[StageInfoModal] UIManager 발견. 스테이지 1 게임 시작

[UIManager] 스테이지 1 선택됨 - 게임플레이 모드 전환 시작

[SelectStage] 스테이지 1 선택 시작

[SelectStage] 1단계: 서버 데이터 시도 (useServerData=True)

[UserDataCache] 스테이지 1 메타데이터 반환: INTEGER[] 형식, 18개 위치

[ApiDataConverter] 새로운 INTEGER[] 형식으로 초기 보드 상태 변환: 18개 위치

[TryLoadServerStageData] ✅ API 메타데이터에서 스테이지 1 선택 - return true

[SelectStage] ✅ 1단계 성공 - 서버 데이터로 완료

[UIManager] SingleGameManager 스테이지 컨텍스트 설정: 1 (IsInGameplayMode=true)

SingleGameManager에 API 스테이지 데이터 전달: 1

[UIManager] StageDataManager에 스테이지 1 설정 완료

[UIManager] 게임플레이 모드 전환 시작

[UIManager] 게임플레이 시작 - MainScene 패널들 숨기기 (StageSelectPanel 제외)

[UIManager] Login 패널 숨기기

Animator is not playing an AnimatorController

[UIManager] ModeSelection 패널 숨기기

[UIManager] MainScene 패널 숨기기 완료 - StageSelectPanel 유지됨

[UIManager] SingleGameManager 발견 - 스테이지 1 초기화 시작

[SelectStage] 스테이지 1 선택 시작

[SelectStage] 1단계: 서버 데이터 시도 (useServerData=True)

[UserDataCache] 스테이지 1 메타데이터 반환: INTEGER[] 형식, 18개 위치

[ApiDataConverter] 새로운 INTEGER[] 형식으로 초기 보드 상태 변환: 18개 위치

[TryLoadServerStageData] ✅ API 메타데이터에서 스테이지 1 선택 - return true

[SelectStage] ✅ 1단계 성공 - 서버 데이터로 완료

[SingleGameManager] 스테이지 1 블록 3개 설정

[SingleGameManager] 초기 보드 변환 완료: 사전배치 18개

[SingleGameManager] StagePayload 생성: #1, Diff=1, TL=0, Undo=3, Blocks=3

[GameBoard] 터치 미리보기 클리어 - ActionButtonPanel 숨김

[SingleGameManager] 원시 initial_board_state 적용: 18개 위치

[GameLogic] 초기 보드 상태 설정: 18개 위치

[GameLogic] encoded=1200, colorIndex=3, position=0, row=0, col=0

[GameLogic] 초기 보드 설정: (0,0) = Red (encoded: 1200, colorIndex: 3)

[GameLogic] encoded=1201, colorIndex=3, position=1, row=0, col=1

[GameLogic] 초기 보드 설정: (0,1) = Red (encoded: 1201, colorIndex: 3)

[GameLogic] encoded=1202, colorIndex=3, position=2, row=0, col=2

[GameLogic] 초기 보드 설정: (0,2) = Red (encoded: 1202, colorIndex: 3)

[GameLogic] encoded=818, colorIndex=2, position=18, row=0, col=18

[GameLogic] 초기 보드 설정: (0,18) = Yellow (encoded: 818, colorIndex: 2)

[GameLogic] encoded=819, colorIndex=2, position=19, row=0, col=19

[GameLogic] 초기 보드 설정: (0,19) = Yellow (encoded: 819, colorIndex: 2)

[GameLogic] encoded=1220, colorIndex=3, position=20, row=1, col=0

[GameLogic] 초기 보드 설정: (1,0) = Red (encoded: 1220, colorIndex: 3)

[GameLogic] encoded=2021, colorIndex=5, position=21, row=1, col=1

[GameLogic] 초기 보드 설정: (1,1) = Obstacle (encoded: 2021, colorIndex: 5)

[GameLogic] encoded=2022, colorIndex=5, position=22, row=1, col=2

[GameLogic] 초기 보드 설정: (1,2) = Obstacle (encoded: 2022, colorIndex: 5)

[GameLogic] encoded=2038, colorIndex=5, position=38, row=1, col=18

[GameLogic] 초기 보드 설정: (1,18) = Obstacle (encoded: 2038, colorIndex: 5)

[GameLogic] encoded=839, colorIndex=2, position=39, row=1, col=19

[GameLogic] 초기 보드 설정: (1,19) = Yellow (encoded: 839, colorIndex: 2)

[GameLogic] encoded=2058, colorIndex=5, position=58, row=2, col=18

[GameLogic] 초기 보드 설정: (2,18) = Obstacle (encoded: 2058, colorIndex: 5)

[GameLogic] encoded=859, colorIndex=2, position=59, row=2, col=19

[GameLogic] 초기 보드 설정: (2,19) = Yellow (encoded: 859, colorIndex: 2)

[GameLogic] encoded=1940, colorIndex=4, position=340, row=17, col=0

[GameLogic] 초기 보드 설정: (17,0) = Green (encoded: 1940, colorIndex: 4)

[GameLogic] encoded=2341, colorIndex=5, position=341, row=17, col=1

[GameLogic] 초기 보드 설정: (17,1) = Obstacle (encoded: 2341, colorIndex: 5)

[GameLogic] encoded=1960, colorIndex=4, position=360, row=18, col=0

[GameLogic] 초기 보드 설정: (18,0) = Green (encoded: 1960, colorIndex: 4)

[GameLogic] encoded=2361, colorIndex=5, position=361, row=18, col=1

[GameLogic] 초기 보드 설정: (18,1) = Obstacle (encoded: 2361, colorIndex: 5)

[GameLogic] encoded=1980, colorIndex=4, position=380, row=19, col=0

[GameLogic] 초기 보드 설정: (19,0) = Green (encoded: 1980, colorIndex: 4)

[GameLogic] encoded=1981, colorIndex=4, position=381, row=19, col=1

[GameLogic] 초기 보드 설정: (19,1) = Green (encoded: 1981, colorIndex: 4)

[BlockPalette] InitializePalette - CellSpriteProvider 연결됨: True

[BlockPalette] BlockButton(Single)에 CellSpriteProvider 설정 완료

[BlockPalette] BlockButton(Domino)에 CellSpriteProvider 설정 완료

[BlockPalette] BlockButton(TrioLine)에 CellSpriteProvider 설정 완료

[BlockPalette] 초기화 완료: 3개 블록, Player=Blue

[SingleGame] Start - Stage: 첫번째 스테이지, 블로커스의 룰을 알아보세요 (#1), Board: 20, Difficulty: 1, TimeLimit: 무제한, MaxUndo: 3

[SingleGameManager] 게임 UI 패널들 활성화 시작

[SingleGameManager] TopBarUI 활성화

[SingleGameManager] MainScene UI 패널 상태 확인 중...

[SingleGameManager] UIManager 통해 필요 패널 숨김(정보)

[SingleGameManager] 🎮 게임 플레이 준비 완료

[SingleGameManager] ✅ 게임 초기화 완전 완료 - 플레이 가능 상태

[UIScreenController] OnGameReady → GamePanel ON (StageSelect KEEP)

[BlockPalette] GridLayoutGroup 감지됨 → 자동 레이아웃 보정 생략

[GameBoard] Awake에서 ActionButtonPanel 강제 숨김 및 크기 설정: (200.00, 100.00)

[GamePanel] Interactable = False

[GamePanel] Late-join detected → activate gameplay now

[GamePanel] ✅ OnGameReady → switch to gameplay UI

[GamePanel] GamePanel을 최상단으로 정렬 중...

[GamePanel] Canvas 정렬 완료 - GamePanel이 StageSelectPanel 위에 레이어링됨 (하위 오브젝트 순서 유지)

[GamePanel] Interactable = True

[GamePanel] OnEnable done

[UIManager] SingleGameManager 초기화 완료

[GameBoard] Start() - CellSpriteProvider 연결됨: True

[GameBoard] RefreshBoard 완료 - 채워진 셀 수: 18

[GameBoard] ActionButtonPanel 초기화 완료 - 숨김 상태로 설정

[SingleGameManager] 초기 보드 화면 새로고침

[GameBoard] RefreshBoard 완료 - 채워진 셀 수: 18

[UIManager] ✅ 게임플레이 모드 전환 완료 - 게임 시작!

[GameBoard] RefreshBoard 완료 - 채워진 셀 수: 21

[SingleGame] 배치 기록: TrioLine @ (19,17) / 총 1

[BlockPalette] 블록 TrioLine 사용됨 - 선택 상태 해제

[TopBarUI] 점수 변경: 3 (Place TrioLine) - 총 점수: 3

[SingleGame] 진행 - 사용 가능 블록: 2개

블록 배치 확정 완료: TrioLine at (19, 17)

[GameBoard] RefreshBoard 완료 - 채워진 셀 수: 23

[SingleGame] 배치 기록: Domino @ (18,15) / 총 2

[BlockPalette] 블록 Domino 사용됨 - 선택 상태 해제

[TopBarUI] 점수 변경: 2 (Place Domino) - 총 점수: 5

[SingleGame] 진행 - 사용 가능 블록: 1개

블록 배치 확정 완료: Domino at (18, 15)

[GameBoard] RefreshBoard 완료 - 채워진 셀 수: 24

[SingleGame] 배치 기록: Single @ (17,14) / 총 3

[BlockPalette] 블록 Single 사용됨 - 선택 상태 해제

[TopBarUI] 점수 변경: 1 (Place Single) - 총 점수: 6

[SingleGame] 종료 - 사용 가능한 블록 없음

[SingleGame] 게임 종료: 모든 블록 사용 완료, 최종 점수: 6/6, 시간: 6s

[SingleGame] 별점 계산: 6/6 = 3별

API 스테이지 1 완료 처리: 6점, 3별

Authorization 헤더 추가됨: Bearer eyJhbGciOiJIUzI1NiIs...

HTTP POST: http://localhost:8080/api/stages/complete, 데이터: {"stage_number":1,"score":6,"completion_time":6,"completed":true}

[SingleGame] ✅ 완료 보고: stage=1, score=6, stars=3, t=6s

[GameResultModal] modalPanel null check: False

[GameResultModal] modalPanel.activeSelf: True

[GameResultModal] modalPanel.activeInHierarchy: False

[GameResultModal] modalPanel.transform.parent: GameResultModal

[GameResultModal] modalPanel size: (0.00, 800.00), position: (540.00, 1160.00, 0.00)

[GameResultModal] GameResultModal GameObject 활성화됨

[GameResultModal] After SetActive - activeSelf: True, activeInHierarchy: True

[GameResultModal] 별점 표시 완료 - 3개

[GameResultModal] 서버 진행도 업데이트 요청: stage=1, done=True, stars=3, score=6, t=6.0s

[SingleGameManager] 진행도 업데이트: Stage=1, Done=True, Stars=3, Score=6, Time=6.0s

API 스테이지 1 완료 처리: 6점, 3별

Authorization 헤더 추가됨: Bearer eyJhbGciOiJIUzI1NiIs...

HTTP POST: http://localhost:8080/api/stages/complete, 데이터: {"stage_number":1,"score":6,"completion_time":6,"completed":true}

[SingleGameManager] StageDataManager 업데이트 OK

[GameResultModal] 표시: score=6/6, time=6.0s, success=True, stars=3

블록 배치 확정 완료: Single at (17, 14)

HTTP 응답: {"success":true,"message":"Stage completion processed successfully","data":{"success":true,"stars_earned":3,"is_new_best":false,"level_up":false,"message":"Stage 1 completed successfully!"}}

[UserDataCache] 스테이지 완료 성공: 스테이지 1 완료! 3별 획득

GET요청 Instance: 68584

GET요청 authToken: EXISTS

Authorization 헤더 추가됨: Bearer eyJhbGciOiJIUzI1NiIs...

HTTP GET: http://localhost:8080/api/user/progress/batch

[UserDataCache] 스테이지 완료 후 진행도 새로고침 요청 (중복 방지됨)

서버 스테이지 완료 처리 성공: 스테이지 1 완료! 3별 획득

API 스테이지 진행도 업데이트: 1 (별: 3)

[StageDataManager] 로컬 스테이지 진행도 업데이트: 1 (별: 3)

[CandyCrushStageMapView] 스테이지 1 완료: 6점, 3별

[CandyCrushStageMapView] 스테이지 완료로 업데이트할 스테이지: [1, 2]

[CandyCrushStageMapView] 선택적 업데이트 모드 - 변경된 스테이지: [1, 2]

[CandyCrushStageMapView] ✅ 스테이지 1 언락 상태 업데이트

[CandyCrushStageMapView] ✅ 스테이지 2 언락 상태 업데이트

[CandyCrushStageMapView] 선택적 업데이트 완료 - 2개 스테이지 처리됨

[CandyCrushStageMapView] UpdateUIInfo 시작 - totalStages: 14

[CandyCrushStageMapView] 진행률 업데이트: 진행률: 21.4% (3/14)

[CandyCrushStageMapView] 별 개수 계산 시작 - 총 스테이지: 14

[CandyCrushStageMapView] 스테이지 1 - 별: 3개 (누적: 3)

[CandyCrushStageMapView] 스테이지 2 - 별: 3개 (누적: 6)

[CandyCrushStageMapView] 스테이지 3 - 별: 3개 (누적: 9)

[CandyCrushStageMapView] 별 정보 업데이트: 별: 9/42 ★

[IsStageUnlocked] 스테이지 2: MaxStageCompleted=3 → 언락=True

[CandyCrushStageMapView] 스테이지 2 언락!

[CandyCrushStageMapView] RefreshStageButtons 너무 빠른 호출 - 스킵 (마지막: 54.62s, 현재: 54.62s)

스테이지 2 언락됨!

API 스테이지 진행도 업데이트: 1 (별: 3)

[StageDataManager] 로컬 스테이지 진행도 업데이트: 1 (별: 3)

[CandyCrushStageMapView] 스테이지 1 완료: 6점, 3별

[CandyCrushStageMapView] 스테이지 완료로 업데이트할 스테이지: [1, 2]

[CandyCrushStageMapView] RefreshStageButtons 너무 빠른 호출 - 스킵 (마지막: 54.62s, 현재: 54.62s)

[IsStageUnlocked] 스테이지 2: MaxStageCompleted=3 → 언락=True

[CandyCrushStageMapView] 스테이지 2 언락!

[CandyCrushStageMapView] RefreshStageButtons 너무 빠른 호출 - 스킵 (마지막: 54.62s, 현재: 54.62s)

스테이지 2 언락됨!

HTTP 응답: {"success":true,"message":"Stage completion processed successfully","data":{"success":true,"stars_earned":3,"is_new_best":false,"level_up":false,"message":"Stage 1 completed successfully!"}}

[UserDataCache] 스테이지 완료 성공: 스테이지 1 완료! 3별 획득

[UserDataCache] 스테이지 완료 후 진행도 새로고침 중복 방지 - 이미 로딩 중

서버 스테이지 완료 처리 성공: 스테이지 1 완료! 3별 획득

HTTP 응답: {"success":true,"message":"User progress batch retrieved successfully","data":{"progress":[{"n":1,"c":true,"s":3,"bs":6},{"n":2,"c":true,"s":3,"bs":29},{"n":3,"c":true,"s":3,"bs":29},{"n":4,"c":false,"s":0,"bs":0},{"n":5,"c":false,"s":0,"bs":0},{"n":6,"c":false,"s":0,"bs":0},{"n":7,"c":false,"s":0,"bs":0},{"n":8,"c":false,"s":0,"bs":0},{"n":9,"c":false,"s":0,"bs":0},{"n":10,"c":false,"s":0,"bs":0},{"n":11,"c":false,"s":0,"bs":0},{"n":12,"c":false,"s":0,"bs":0},{"n":13,"c":false,"s":0,"bs":0},{"n":14,"c":false,"s":0,"bs":0}],"current_status":{"max_stage_completed":3,"single_player_level":1,"total_stars":9,"completion_count":3},"total_count":14,"last_updated":"2025-08-24T18:50:42.765Z"}}

[UserDataCache] 📥 OnBatchProgressReceived 호출됨!

[UserDataCache] 일괄 진행도 수신: 14개 (중복 방지 플래그 초기화됨)

[UserDataCache] 처리 중: 스테이지 1 (완료=True, 별=3)

[UserDataCache] API 스테이지 진행도 업데이트: 1 (별: 3)

API 스테이지 진행도 업데이트: 1 (별: 3)

[UserDataCache] 처리 중: 스테이지 2 (완료=True, 별=3)

[UserDataCache] API 스테이지 진행도 업데이트: 2 (별: 3)

API 스테이지 진행도 업데이트: 2 (별: 3)

[UserDataCache] 처리 중: 스테이지 3 (완료=True, 별=3)

[UserDataCache] API 스테이지 진행도 업데이트: 3 (별: 3)

API 스테이지 진행도 업데이트: 3 (별: 3)

[UserDataCache] 처리 중: 스테이지 4 (완료=False, 별=0)

[UserDataCache] API 스테이지 진행도 업데이트: 4 (별: 0)

API 스테이지 진행도 업데이트: 4 (별: 0)

[UserDataCache] 처리 중: 스테이지 5 (완료=False, 별=0)

[UserDataCache] API 스테이지 진행도 업데이트: 5 (별: 0)

API 스테이지 진행도 업데이트: 5 (별: 0)

[UserDataCache] 처리 중: 스테이지 6 (완료=False, 별=0)

[UserDataCache] API 스테이지 진행도 업데이트: 6 (별: 0)

API 스테이지 진행도 업데이트: 6 (별: 0)

[UserDataCache] 처리 중: 스테이지 7 (완료=False, 별=0)

[UserDataCache] API 스테이지 진행도 업데이트: 7 (별: 0)

API 스테이지 진행도 업데이트: 7 (별: 0)

[UserDataCache] 처리 중: 스테이지 8 (완료=False, 별=0)

[UserDataCache] API 스테이지 진행도 업데이트: 8 (별: 0)

API 스테이지 진행도 업데이트: 8 (별: 0)

[UserDataCache] 처리 중: 스테이지 9 (완료=False, 별=0)

[UserDataCache] API 스테이지 진행도 업데이트: 9 (별: 0)

API 스테이지 진행도 업데이트: 9 (별: 0)

[UserDataCache] 처리 중: 스테이지 10 (완료=False, 별=0)

[UserDataCache] API 스테이지 진행도 업데이트: 10 (별: 0)

API 스테이지 진행도 업데이트: 10 (별: 0)

[UserDataCache] 처리 중: 스테이지 11 (완료=False, 별=0)

[UserDataCache] API 스테이지 진행도 업데이트: 11 (별: 0)

API 스테이지 진행도 업데이트: 11 (별: 0)

[UserDataCache] 처리 중: 스테이지 12 (완료=False, 별=0)

[UserDataCache] API 스테이지 진행도 업데이트: 12 (별: 0)

API 스테이지 진행도 업데이트: 12 (별: 0)

[UserDataCache] 처리 중: 스테이지 13 (완료=False, 별=0)

[UserDataCache] API 스테이지 진행도 업데이트: 13 (별: 0)

API 스테이지 진행도 업데이트: 13 (별: 0)

[UserDataCache] 처리 중: 스테이지 14 (완료=False, 별=0)

[UserDataCache] API 스테이지 진행도 업데이트: 14 (별: 0)

API 스테이지 진행도 업데이트: 14 (별: 0)

[UserDataCache] 진행도 배치 동기화 완료

[UserDataCache] ✅ 일괄 진행도 캐시 완료 - 총 14개 처리됨

[CandyCrushStageMapView] 진행도 데이터 변경됨: 14개

[CandyCrushStageMapView] 진행도 변경 없음 - UI 업데이트 스킵

[HttpApiClient] 🔥 OnCurrentStatusReceived 이벤트 발생! max_stage_completed=3

[UserDataCache] 📥 OnCurrentStatusReceived 호출됨! max_stage_completed=3

최대 클리어 스테이지: 3

[UserDataCache] StageProgressManager에 서버 max_stage_completed=3 설정 완료

[CandyCrushStageMapView] 사용자 데이터 업데이트됨: , maxStageCompleted=3

[CandyCrushStageMapView] 프로필 로드 완료 - 모든 스테이지 버튼 상태 새로고침 시작

[StageFeed] 데이터 기반 스테이지 수 설정: 14개(Inspector) → 14개(실제데이터)

[CandyCrushStageMapView] SetupScrollContent - safeTotalStages: 14개

[CandyCrushStageMapView] UpdateUIInfo 너무 빠른 호출 - 스킵 (마지막: 54.62s, 현재: 54.63s)

[CandyCrushStageMapView] progressManager 동기화: max_stage_completed=3

[CandyCrushStageMapView] RefreshStageButtons 너무 빠른 호출 - 스킵 (마지막: 54.62s, 현재: 54.63s)

[CandyCrushStageMapView] UpdateUIInfo 너무 빠른 호출 - 스킵 (마지막: 54.62s, 현재: 54.63s)

[UserDataCache] currentUser.maxStageCompleted을 3로 업데이트

[UserDataCache] 현재 상태 동기화 완료

[CandyCrushStageMapView] 현재 상태 변경됨: max_stage_completed=3

[CandyCrushStageMapView] 상태 변경으로 업데이트할 스테이지: 4

[CandyCrushStageMapView] RefreshStageButtons 너무 빠른 호출 - 스킵 (마지막: 54.62s, 현재: 54.63s)

[GameResultModal] CandyCrushStageMapView 강제 리프레시 요청

[CandyCrushStageMapView] ForceRefreshStageButtons 호출됨 - Throttling 무시하고 즉시 실행

[StageFeed] 데이터 기반 스테이지 수 설정: 14개(Inspector) → 14개(실제데이터)

[CandyCrushStageMapView] SetupScrollContent - safeTotalStages: 14개

[CandyCrushStageMapView] UpdateUIInfo 시작 - totalStages: 14

[CandyCrushStageMapView] 진행률 업데이트: 진행률: 21.4% (3/14)

[CandyCrushStageMapView] 별 개수 계산 시작 - 총 스테이지: 14

[CandyCrushStageMapView] 스테이지 1 - 별: 3개 (누적: 3)

[CandyCrushStageMapView] 스테이지 2 - 별: 3개 (누적: 6)

[CandyCrushStageMapView] 스테이지 3 - 별: 3개 (누적: 9)

[CandyCrushStageMapView] 별 정보 업데이트: 별: 9/42 ★

[CandyCrushStageMapView] ForceRefresh - 우선순위 스테이지: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]

[CandyCrushStageMapView] 선택적 업데이트 모드 - 변경된 스테이지: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]

[CandyCrushStageMapView] ✅ 스테이지 1 언락 상태 업데이트

[CandyCrushStageMapView] ✅ 스테이지 2 언락 상태 업데이트

[CandyCrushStageMapView] ✅ 스테이지 3 언락 상태 업데이트

[CandyCrushStageMapView] ✅ 스테이지 4 언락 상태 업데이트

[CandyCrushStageMapView] 선택적 업데이트 완료 - 14개 스테이지 처리됨

[CandyCrushStageMapView] UpdateUIInfo 너무 빠른 호출 - 스킵 (마지막: 55.69s, 현재: 55.69s)

[CandyCrushStageMapView] ForceRefreshStageButtons 완료

[GameResultModal] UIController 발견 - ShowSelection 호출

[UIScreenController] ShowSelection → GamePanel 비활성화

[UIScreenController] ShowSelection → GamePanel OFF, StageSelect ON

[CandyCrushStageMapView] ForceRefreshStageButtons 호출됨 - Throttling 무시하고 즉시 실행

[StageFeed] 데이터 기반 스테이지 수 설정: 14개(Inspector) → 14개(실제데이터)

[CandyCrushStageMapView] SetupScrollContent - safeTotalStages: 14개

[CandyCrushStageMapView] UpdateUIInfo 너무 빠른 호출 - 스킵 (마지막: 55.69s, 현재: 55.70s)

[CandyCrushStageMapView] ForceRefresh - 우선순위 스테이지: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]

[CandyCrushStageMapView] 선택적 업데이트 모드 - 변경된 스테이지: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]

[CandyCrushStageMapView] ✅ 스테이지 1 언락 상태 업데이트

[CandyCrushStageMapView] ✅ 스테이지 2 언락 상태 업데이트

[CandyCrushStageMapView] ✅ 스테이지 3 언락 상태 업데이트

[CandyCrushStageMapView] ✅ 스테이지 4 언락 상태 업데이트

[CandyCrushStageMapView] 선택적 업데이트 완료 - 14개 스테이지 처리됨

[CandyCrushStageMapView] UpdateUIInfo 너무 빠른 호출 - 스킵 (마지막: 55.69s, 현재: 55.70s)

[CandyCrushStageMapView] ForceRefreshStageButtons 완료

[UIScreenController] UI 안정화 - CandyCrushStageMapView 강제 리프레시 완료

