# ==================================================
# .dockerignore - Blokus Online Server Build (Whitelist)
# 화이트리스트 방식으로 빌드 컨텍스트 최소화 (gamer-server 전용)
# ==================================================

# ========== 기본적으로 모든 파일 제외 ==========
*

# ========== 서버 빌드 필수 파일들만 포함 ==========
# 루트 레벨 빌드 설정
!CMakeLists.txt
!vcpkg-server.json

# ========== C++ 서버 코드 ==========
# 서버 디렉토리 (gamer-server 핵심)
!server/
!server/**

# 공통 라이브러리 코드
!common/
!common/**

# ========== 빌드 도구 의존성 ==========
# vcpkg 매니페스트 및 설정 파일들 (서버 전용)
!vcpkg-server.json

# ========== 제외할 디렉토리들 ==========
# 클라이언트 관련 (빌드에 불필요)
client/
client-mobile/

# 웹 애플리케이션 (빌드에 불필요)
web/

# 다른 서비스들 (빌드에 불필요)
oidc-auth-server/
single-player-api/

# vcpkg 캐시 및 빌드 산출물 (컨테이너에서 재생성)
vcpkg/buildtrees/
vcpkg/downloads/
vcpkg/packages/
vcpkg_installed/
build/

# IDE 및 편집기 파일
.vscode/
.vs/
.idea/

# 문서 및 미디어
docs/
screenshots/
images/
data/

# 로그 및 임시 파일
logs/
*.log
*.tmp
*.temp

# 인증서 및 키 (보안)
*.pem
*.key
*.crt
*.p12

# OS 생성 파일
.DS_Store
Thumbs.db
*.swp
*~

# 릴리즈 및 배포 파일
releases/
append/

# 스크립트 및 배치 파일 (런타임에 불필요)
*.bat
*.ps1
*.sh
deploy.sh
scripts/

# 환경 설정 (컨테이너 내부에서 설정)
.env
.env.*
!.env.example

# Git 관련
.git/
.gitignore
.gitattributes
.github/

# 테스트 파일
test/
tests/
*_test.cpp
*.test.*

# Node.js 관련 (웹 제외하므로 불필요)
node_modules/
.npm/
package-lock.json

# ========== 빌드 최적화 확인 ==========
# 이 .dockerignore로 컨텍스트가 ~100MB 이하로 줄어들어야 함
# 이전 전체 컨텍스트: ~2GB+ → 최적화 후: ~50-100MB